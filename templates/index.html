<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}" />
<link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}" />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Chivo:wght@400;700&display=swap"
    />
  </head>
  <body>
    <div class="landing-page">
      <h1 class="epic-designs">Epic Designs</h1>
      <div class="details">Details</div>
      <img class="landing-page-child" alt="" src="./static/line-5.svg" />

      <div id="projects" class="projects">
        <div class="projects1">
          <p class="p">
            <b>43</b>
          </p>
          <p class="projects2">Projects</p>
        </div>
      </div>
      <img
        class="arrow-right-short-1-icon"
        alt=""
        src="./static/arrowrightshort-1.svg"
      />

      <div class="landing-page-item"></div>
      <div class="landing-page-inner"></div>
      <img class="logo-small-1-icon" alt="" src="./static/logosmall-1@2x.png" />

      <img class="line-icon" alt="" src="./static/line-5.svg" />

      <section class="epic-designs-parent">
        <h1 id="listing-name"  class="epic-designs1">Epic Designs</h1>
        <div class="group-child"></div>
        <h1 class="epic-designs2">Epic Designs</h1>
        <div class="passionate-team-of">
          Passionate team of 4 designers working out of Bangalore with an
          experience of 4 years.
        </div>
        <div class="projects3">
          <p class="p">
            <b>57</b>
          </p>
          <p class="projects2">Projects</p>
        </div>
        <div class="years">
          <p class="p">
            <b>8</b>
          </p>
          <p class="projects2">Years</p>
        </div>
        <div id="price" class="price">
          <p class="p">
            <b>
              <span class="span">4</span>
            </b>
            <span>
              <b>/5</b>
            </span>
          </p>
          <p class="p">
            <span>
              <span>Price</span>
            </span>
          </p>
        </div>
        <img class="group-item" alt="" src="./static/group-1.svg" />

        <img
          class="eye-slash-fill-1-icon"
          alt=""
          src="./static/eyeslashfill-1.svg"
        />

        <img
          class="arrow-right-short-1-icon1"
          alt=""
          src="./static/arrowrightshort-11.svg"
        />

        <div class="details1">Details</div>
        <div class="hide">Hide</div>
        <div class="shortlist">Shortlist</div>
        <div class="call">Call</div>
        <div class="report">Report</div>
        <img
          class="bookmark-heart-1-icon"
          alt=""
          src="./static/bookmarkheart-1.svg"
        />

        <div class="group-inner"></div>
        <img class="telephone-1-icon" alt="" src="./static/telephone-1.svg" />

        <div id="phone" class="div">+91 - 984532853</div>
        <div id="phone" class="div1">+91 - 984532854</div>
        <img
          class="exclamation-circle-1-icon"
          alt=""
          src="./static/exclamationcircle-1.svg"
        />
      </section>
      <img class="vector-icon" alt="" src="./static/vector.svg" />

      <h1 class="emptycup">EmptyCup</h1>
      <img
        class="three-dots-vertical-1-icon"
        alt=""
        src="./static/threedotsvertical-1.svg"
      />

      <header class="nav-frame" id="nav"></header>
      <div class="sort-parent">
        <div class="sort">Sort</div>
        <img class="vector-icon1" alt="" src="./static/vector1.svg" />
      </div>
      <div class="shortlisted">Shortlisted</div>
      <img
        class="clipboard-heart-1-icon"
        id="shortlisted12"
        alt=""
        src="./static/clipboardheart-1.svg"
      />

      <div class="vector-parent">
        <img class="vector-icon2" alt="" src="./static/vector2.svg" />

        <img class="vector-icon3" alt="" src="./static/vector3.svg" />

        <div class="contacts">Contacts</div>
      </div>
      <div class="vector-group">
        <img class="vector-icon4" alt="" src="./static/vector4.svg" />

        <img class="vector-icon5" alt="" src="./static/vector5.svg" />

        <div class="gallery">Gallery</div>
      </div>
      <div class="vector-container">
        <img class="vector-icon6" alt="" src="./static/vector6.svg" />

        <div class="map">Map</div>
      </div>
      <div class="line-div"></div>
      <button class="eye-slash-2">
        <img class="vector-icon7" alt="" src="./static/vector8.svg" />

        <img class="vector-icon8" alt="" src="./static/vector9.svg" />

        <img class="vector-icon9" alt="" src="./static/vector10.svg" />
      </button>
      <div class="hide1">
        <div class="hide2">Hide</div>
      </div>
      <img
        class="exclamation-circle-1-icon1"
        alt=""
        src="./static/exclamationcircle-11.svg"
      />

      <div class="projects5">
        <div class="projects1">
          <p class="p">
            <b>39</b>
          </p>
          <p class="projects2">Projects</p>
        </div>
      </div>
      <div class="component-1">
        <div class="div2">+91 - 984532853</div>
        <div class="div3">+91 - 984532854</div>
      </div>
      <section class="passionate-team-of-4-designers-parent">
        <div class="passionate-team-of1">
          Passionate team of 4 designers working out of Bangalore with an
          experience of 4 years.
        </div>
        <div class="projects8">
          <p class="p">
            <b>57</b>
          </p>
          <p class="projects2">Projects</p>
        </div>
        <div class="years2">
          <p class="p">
            <b>8</b>
          </p>
          <p class="projects2">Years</p>
        </div>
        <div class="price2">
          <p class="p">
            <b>$$</b>
          </p>
          <p class="projects2">Price</p>
        </div>
        <img class="star-group1-icon" alt="" src="./static/group-11.svg" />

        <img class="frame-child" alt="" src="./static/line-5.svg" />

        <div class="div4">+91 - 984532853</div>
        <div class="div5">+91 - 984532854</div>
        <div class="button-1">
          <img
            class="arrow-right-short-1-icon2"
            alt=""
            src="./static/arrowrightshort-11.svg"
          />

          <div class="details2">Details</div>
        </div>
        <div class="button-2">
          <div class="hide3">Hide</div>
          <button class="eye-slash-1">
            <img class="vector-icon7" alt="" src="./static/vector8.svg" />

            <img class="vector-icon8" alt="" src="./static/vector9.svg" />

            <img class="vector-icon9" alt="" src="./static/vector10.svg" />
          </button>
        </div>
        <div class="button-4">
          <div class="report1">Report</div>
          <img class="star-fill-2-icon" alt="" src="./static/starfill-2.svg" />

          <img
            class="exclamation-circle-1-icon2"
            alt=""
            src="./static/exclamationcircle-12.svg"
          />
        </div>
        <div class="frame-item"></div>
        <div class="frame-inner" id="shortlist1"></div>
        <img
          class="vector10-1-icon"
          id="fill_shortlist"
          alt=""
          src="./static/vector101.svg"
        />

        <div class="shortlist1">
          <div class="shortlist2">Shortlist</div>
        </div>
      </section>
      <section class="empty-reno-parent">
        <h1 class="empty-reno">Empty Reno</h1>
        <img class="star-group1-icon1" alt="" src="./static/group-12.svg" />

        <div class="passionate-team-of-4-designers">
          <div class="passionate-team-of2">
            Passionate team of 4 designers working out of Bangalore with an
            experience of 4 years.
          </div>
        </div>
        <div class="years8">
          <div id="move" class="projects1">
            <p id="exp" class="p">
              <b>9</b>
            </p>
            <p class="projects2">Years</p>
          </div>
        </div>
        <div class="price4">
          <div class="projects1">
            <p class="p">
              <b>$$$</b>
            </p>
            <p class="projects2">Price</p>
          </div>
        </div>
        <div class="frame-div"></div>
        <div class="frame-child1"></div>
        <div class="frame-child2"></div>
        <img
          class="bookmarkheart-1-2-icon"
          id="unfill_shortlist2"
          alt=""
          src="./static/bookmarkheart-1.svg"
        />

        <div class="shortlist3">Shortlist</div>
        <div class="report2">Report</div>
      </section>
      <section class="studio-d3-parent">
        <h1 class="studio-d3">Studio - D3</h1>
        <div class="passionate-team-of-4-designers1">
          <div class="passionate-team-of2">
            Passionate team of 4 designers working out of Bangalore with an
            experience of 4 years.
          </div>
        </div>
        <div class="years4">
          <div class="projects1">
            <p class="p">
              <b>6</b>
            </p>
            <p class="projects2">Years</p>
          </div>
        </div>
        <div class="price7">
          <div class="projects1">
            <p class="p">
              <b>$$$</b>
            </p>
            <p class="projects2">Price</p>
          </div>
        </div>
        <div class="start-group2-wrapper">
          <img class="start-group2-icon" alt="" src="./static/group-13.svg" />
        </div>
        <div class="arrow-right-short-1-parent">
          <img
            class="arrow-right-short-1-icon3"
            alt=""
            src="./static/arrowrightshort-11.svg"
          />

          <div class="details3">Details</div>
        </div>
        <div class="hide4">
          <div class="hide2">Hide</div>
        </div>
        <div class="report3">
          <div class="report4">Report</div>
        </div>
        <img class="frame-child3" alt="" src="./static/line-5.svg" />

        <div class="component-11">
          <div class="div2">+91 - 984532853</div>
          <div class="div3">+91 - 984532854</div>
        </div>
        <img
          class="exclamation-circle-1-icon3"
          alt=""
          src="./static/exclamationcircle-13.svg"
        />

        <img class="star-fill-4-icon" alt="" src="./static/starfill-4.svg" />

        <button class="eye-slash-21">
          <img class="vector-icon7" alt="" src="./static/vector8.svg" />

          <img class="vector-icon8" alt="" src="./static/vector9.svg" />

          <img class="vector-icon9" alt="" src="./static/vector10.svg" />
        </button>
        <img
          class="bookmarkheart-1-2-icon1"
          id="unfill_shortlist1"
          alt=""
          src="./static/bookmarkheart-1.svg"
        />

        <div class="shortlist4">Shortlist</div>
      </section>
    </div>
    <div id="listings-container"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var fillShortlistImage = document.getElementById("fill_shortlist");
        var unfillShortlistImage2 = document.getElementById("unfill_shortlist2");
        var unfillShortlistImage1 = document.getElementById("unfill_shortlist1");
        var shortlistedImage = document.getElementById("shortlisted12");
        var clipboardHeartImage = document.querySelector(".clipboard-heart-1-icon");
  
        var sectionsToToggle = document.querySelectorAll(".toggleable-section");
  
        fillShortlistImage.addEventListener("click", function () {
          fillShortlistImage.src = fillShortlistImage.src.includes("vector101.svg")
            ? "./static/bookmarkheart-1.svg"
            : "./static/vector101.svg";
  
          sectionsToToggle.forEach(function (section) {
            var isVector101IconPresent = section.querySelector("#fill_shortlist");
            if (isVector101IconPresent && fillShortlistImage.src.includes("vector101.svg")) {
              section.style.display = "block";
            } else {
              section.style.display = "none";
            }
          });
        });
  
        unfillShortlistImage2.addEventListener("click", function () {
          unfillShortlistImage2.src = unfillShortlistImage2.src.includes("bookmarkheart-1.svg")
            ? "./static/vector101.svg"
            : "./static/bookmarkheart-1.svg";
  
          sectionsToToggle.forEach(function (section) {
            var isVector101IconPresent = section.querySelector("#fill_shortlist");
            if (!isVector101IconPresent && unfillShortlistImage2.src.includes("vector101.svg")) {
              section.style.display = "block";
            } else {
              section.style.display = "none";
            }
          });
        });
  
        unfillShortlistImage1.addEventListener("click", function () {
          unfillShortlistImage1.src = unfillShortlistImage1.src.includes("bookmarkheart-1.svg")
            ? "./static/vector101.svg"
            : "./static/bookmarkheart-1.svg";
  
          sectionsToToggle.forEach(function (section) {
            var isVector101IconPresent = section.querySelector("#fill_shortlist");
            if (!isVector101IconPresent && unfillShortlistImage1.src.includes("vector101.svg")) {
              section.style.display = "block";
            } else {
              section.style.display = "none";
            }
          });
        });
  
        shortlistedImage.addEventListener("click", function () {
          sectionsToToggle.forEach(function (section) {
            var isVector101IconPresent = section.querySelector("#fill_shortlist");
            if (isVector101IconPresent) {
              section.style.display = "block";
            } else {
              section.style.display = "none";
            }
          });
        });
  
        clipboardHeartImage.addEventListener("click", function () {
          sectionsToToggle.forEach(function (section) {
            section.style.display = "block";
          });
        });
      });

      document.addEventListener("DOMContentLoaded", async function () {
    const response = await fetch("{{ url_for('static', filename='listings.json') }}");
    const data = await response.json();

    // Use the data to update your HTML content dynamically
    Example: console.log(data.listings[0].name);
  });


  document.addEventListener("DOMContentLoaded", async function () {
      try {
        const response = await fetch("/api/listings");
        if (!response.ok) {
          throw new Error(`HTTP error! Status: ${response.status}`);
        }

        const data = await response.json();
        const listingsContainer = document.getElementById('listings-container');

        // Clear existing content in the container
        listingsContainer.innerHTML = '';

        // Create a styled alert for fetched data
        const popup = document.createElement('div');
        popup.classList.add('popup');

        // Check if data.listings is defined and has length
        if (data.listings && data.listings.length > 0) {
          // Hide other sections
          const otherSections = document.querySelectorAll('.landing-page, .epic-designs-parent, .empty-reno-parent, .studio-d3-parent');
          otherSections.forEach(section => {
            section.style.display = 'none';
          });

          // Iterate through each listing and create/update HTML elements
          data.listings.forEach((listing, index) => {
            const listingElement = document.createElement('div');
            listingElement.classList.add('listing');
            
            listingElement.addEventListener('mouseenter', () => {
              listingElement.classList.add('hovered');
            });

            listingElement.addEventListener('mouseleave', () => {
              listingElement.classList.remove('hovered');
            });

            const nameElement = document.createElement('h2');
            nameElement.textContent = listing.name;
            nameElement.classList.add('listing-name');

            const projectsElement = document.createElement('p');
            projectsElement.textContent = `Projects: ${listing.projects}`;

            const experienceElement = document.createElement('p');
            experienceElement.textContent = `Experience: ${listing.experience} years`;

            const phoneElement = document.createElement('p');
            phoneElement.textContent = `Phone: ${listing.phone}`;

            const priceElement = document.createElement('p');
            priceElement.textContent = `Price: ${listing.price}`;

            listingElement.appendChild(nameElement);
            listingElement.appendChild(projectsElement);
            listingElement.appendChild(experienceElement);
            listingElement.appendChild(phoneElement);
            listingElement.appendChild(priceElement);

            listingsContainer.appendChild(listingElement);
          });

          // Show the popup for a short duration with a fade-out effect
          popup.textContent = 'Fetched Data';
          document.body.appendChild(popup);
          popup.style.display = 'block';
          setTimeout(() => {
            popup.style.opacity = '0';
            setTimeout(() => {
              popup.style.display = 'none';
            }, 1000); // Adjust the duration for the fade-out effect
          }, 2000);
        } else {
          // If no data is available, hide other sections, show "Empty Cup" at the top middle, and set the body background color to light crimson red
          const emptyCupContainer = document.createElement('div');
          emptyCupContainer.classList.add('empty-cup-container');
          emptyCupContainer.textContent = 'Empty Cup';
          document.body.appendChild(emptyCupContainer);

          const otherSections = document.querySelectorAll('.landing-page, .epic-designs-parent, .empty-reno-parent, .studio-d3-parent');
          otherSections.forEach(section => {
            section.style.display = 'none';
          });

          // Set the body class to indicate no data fetched
          document.body.classList.add('no-data-fetched');

          // Show an alert
          alert('No data fetched');
        }

      } catch (error) {
        console.error("Error fetching data:", error);
      }
    });

    </script>
  </body>
</html>


<!-- {
  "listings": [
   {
     "name": "Epic Designs",
     "projects": 43,
     "experience": 4,
     "phone": "+91-984532853",
     "price": 4
     
   },
   {
     "name": "Empty Cup",
     "projects": 43,
     "experience": 4,
     "phone": "+91-984532853",
     "price": 4
   }
 ] 
 } -->
 